const e={};function t(t){e.context=t}const n=Symbol("solid-proxy"),r={equals:(e,t)=>e===t};let o=M;const s={},i={owned:null,cleanups:null,context:null,owner:null},[l,c]=m(!1);var u=null;let a,f,d=null,g=null,h=null,p=null,v=null,y=0;function w(e,t){t&&(u=t);const n=g,r=u,o=0===e.length?i:{owned:null,cleanups:null,context:null,owner:r};u=o,g=null;try{return U((()=>e((()=>I(o)))),!0)}finally{g=n,u=r}}function m(e,t){t=t?Object.assign({},r,t):r;const n={value:e,observers:null,observerSlots:null,pending:s,comparator:t.equals||void 0};return[V.bind(n),e=>("function"==typeof e&&(e=d&&d.running&&d.sources.has(n)?e(n.pending!==s?n.pending:n.tValue):e(n.pending!==s?n.pending:n.value)),q(n,e))]}function b(e,t,n){B(D(e,t,!0,1))}function A(e,t,n){B(D(e,t,!1,1))}function S(e,t,n){n=n?Object.assign({},r,n):r;const o=D(e,t,!0,0);return o.pending=s,o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,B(o),V.bind(o)}function $(t,n,r){2===arguments.length?"object"==typeof n&&(r=n,n=t,t=!0):1===arguments.length&&(n=t,t=!0),r||(r={}),!1!==r.globalRefetch&&(a||(a=new Set),a.add(T),u&&O((()=>a.delete(T))));const o=new Set,[s,i]=m(r.initialValue),[l,c]=m(void 0,{equals:!1}),[h,p]=m(!1),[y,w]=m();let A,S=null,$=null,j=!1,x="function"==typeof t;function C(e,t,n,o){return S===e&&(S=null,$&&e===$&&r.onHydrated&&r.onHydrated(o,{value:t}),$=null,w(A=n),d&&e&&j?(d.promises.delete(e),j=!1,U((()=>{d.running=!0,d.promises.size||(v.push.apply(v,d.effects),d.effects=[]),N(t)}),!1)):N(t)),t}function N(e){k((()=>{i((()=>e)),p(!1);for(const e of o.keys())e.decrement();o.clear()}))}function _(){const e=f&&X(u,f.id),t=s();if(A)throw A;return g&&!g.user&&e&&b((()=>{l(),S&&(e.resolved&&d?d.promises.add(S):o.has(e)||(e.increment(),o.add(e)))})),t}function T(e=!0){w(A=void 0);const r=x?t():t;if(j=d&&d.running,null==r||!1===r)return void C(S,P(s));d&&S&&d.promises.delete(S);const o=$||P((()=>n(r,{value:s(),refetching:e})));return"object"==typeof o&&"then"in o?(S=o,k((()=>{p(!0),c()})),o.then((e=>C(o,e,void 0,r)),(e=>C(o,e,e)))):(C(S,o),o)}return e.context&&(e.context.id,e.context.count++),Object.defineProperties(_,{loading:{get:()=>h()},error:{get:()=>y()}}),x?b((()=>T(!1))):T(!1),[_,{refetch:T,mutate:i}]}function k(e){if(h)return e();let t;const n=h=[];try{t=e()}finally{h=null}return U((()=>{for(let e=0;e<n.length;e+=1){const t=n[e];if(t.pending!==s){const e=t.pending;t.pending=s,q(t,e)}}}),!1),t}function P(e){let t,n=g;return g=null,t=e(),g=n,t}function O(e){return null===u||(null===u.cleanups?u.cleanups=[e]:u.cleanups.push(e)),e}function j(){return g}function x(e){if(d&&d.running)return e(),d.done;const t=g,n=u;return Promise.resolve().then((()=>{let r;return g=t,u=n,f&&(r=d||(d={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise((e=>r.resolve=e))),r.running=!0),k(e),r?r.done:void 0}))}function C(){return[l,x]}function N(e){const t=Symbol("context");return{id:t,Provider:Q(t),defaultValue:e}}function _(e){return X(u,e.id)||e.defaultValue}function T(e){const t=S(e);return S((()=>J(t())))}function E(){return f||(f=N({}))}function V(){const e=d&&d.running;if(this.sources&&(!e&&this.state||e&&this.tState)){const t=p;p=null,!e&&1===this.state||e&&1===this.tState?B(this):R(this),p=t}if(g){const e=this.observers?this.observers.length:0;g.sources?(g.sources.push(this),g.sourceSlots.push(e)):(g.sources=[this],g.sourceSlots=[e]),this.observers?(this.observers.push(g),this.observerSlots.push(g.sources.length-1)):(this.observers=[g],this.observerSlots=[g.sources.length-1])}return e&&d.sources.has(this)?this.tValue:this.value}function q(e,t,n){if(e.comparator)if(d&&d.running&&d.sources.has(e)){if(e.comparator(e.tValue,t))return t}else if(e.comparator(e.value,t))return t;if(h)return e.pending===s&&h.push(e),e.pending=t,t;let r=!1;return d?(r=d.running,(r||!n&&d.sources.has(e))&&(d.sources.add(e),e.tValue=t),r||(e.value=t)):e.value=t,e.observers&&e.observers.length&&U((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];r&&d.disposed.has(n)||(n.pure?p.push(n):v.push(n),n.observers&&(r&&!n.tState||!r&&!n.state)&&H(n),r?n.tState=1:n.state=1)}if(p.length>1e6)throw p=[],new Error}),!1),t}function B(e){if(!e.fn)return;I(e);const t=u,n=g,r=y;g=u=e,L(e,d&&d.running&&d.sources.has(e)?e.tValue:e.value,r),d&&!d.running&&d.sources.has(e)&&queueMicrotask((()=>{U((()=>{d&&(d.running=!0),L(e,e.tValue,r)}),!1)})),g=n,u=t}function L(e,t,n){let r;try{r=e.fn(t)}catch(e){G(e)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?q(e,r,!0):d&&d.running&&e.pure?(d.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function D(e,t,n,r=1,o){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:u,context:null,pure:n};return d&&d.running&&(s.state=0,s.tState=r),null===u||u!==i&&(d&&d.running&&u.pure?u.tOwned?u.tOwned.push(s):u.tOwned=[s]:u.owned?u.owned.push(s):u.owned=[s]),s}function F(e){const t=d&&d.running;if(!t&&1!==e.state)return e.state=0;if(t&&1!==e.tState)return e.tState=0;if(e.suspense&&P(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<y);){if(t&&d.disposed.has(e))return;(!t&&e.state||t&&e.tState)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let t=e,o=n[r+1];for(;(t=t.owner)&&t!==o;)if(d.disposed.has(t))return}if(!t&&1===e.state||t&&1===e.tState)B(e);else if(!t&&2===e.state||t&&2===e.tState){const t=p;p=null,R(e,n[0]),p=t}}}function U(e,t){if(p)return e();let n=!1;t||(p=[]),v?n=!0:v=[],y++;try{return e()}catch(e){G(e)}finally{!function(e){p&&(M(p),p=null);if(e)return;let t;if(d&&d.running){if(d.promises.size||d.queue.size)return d.running=!1,d.effects.push.apply(d.effects,v),v=null,void c(!0);const e=d.sources;t=d.resolve,v.forEach((e=>{"tState"in e&&(e.state=e.tState),delete e.tState})),d=null,k((()=>{e.forEach((e=>{if(e.value=e.tValue,e.owned)for(let t=0,n=e.owned.length;t<n;t++)I(e.owned[t]);e.tOwned&&(e.owned=e.tOwned),delete e.tValue,delete e.tOwned,e.tState=0})),c(!1)}))}v.length?k((()=>{o(v),v=null})):v=null;t&&t()}(n)}}function M(e){for(let t=0;t<e.length;t++)F(e[t])}function z(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:F(r)}const r=e.length;for(t=0;t<n;t++)F(e[t]);for(t=r;t<e.length;t++)F(e[t])}function R(e,t){e.state=0;const n=d&&d.running;for(let r=0;r<e.sources.length;r+=1){const o=e.sources[r];o.sources&&(!n&&1===o.state||n&&1===o.tState?o!==t&&F(o):(!n&&2===o.state||n&&2===o.tState)&&R(o,t))}}function H(e){const t=d&&d.running;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!t&&!r.state||t&&!r.tState)&&(t?r.tState=2:r.state=2,r.pure?p.push(r):v.push(r),r.observers&&H(r))}}function I(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(d&&d.running&&e.pure){if(e.tOwned){for(t=0;t<e.tOwned.length;t++)I(e.tOwned[t]);delete e.tOwned}K(e,!0)}else if(e.owned){for(t=0;t<e.owned.length;t++)I(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}d&&d.running?e.tState=0:e.state=0,e.context=null}function K(e,t){if(t||(e.tState=0,d.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)K(e.owned[t])}function G(e){throw e}function X(e,t){return e&&(e.context&&void 0!==e.context[t]?e.context[t]:e.owner&&X(e.owner,t))}function J(e){if("function"==typeof e&&!e.length)return J(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=J(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Q(e){return function(t){let n;return b((()=>n=P((()=>(u.context={[e]:t.value},T((()=>t.children))))))),n}}const W=Symbol("fallback");function Y(e){for(let t=0;t<e.length;t++)e[t]()}function Z(e,t){return P((()=>e(t)))}function ee(){return!0}const te={get:(e,t,r)=>t===n?r:e.get(t),has:(e,t)=>e.has(t),set:ee,deleteProperty:ee,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:ee,deleteProperty:ee}),ownKeys:e=>e.keys()};function ne(e){return"function"==typeof e?e():e}function re(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=ne(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in ne(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(ne(e[n])));return[...new Set(t)]}},te)}function oe(n){let r,o;const s=s=>{const i=e.context;if(i){i.count++;const[e,s]=m();(o||(o=n())).then((e=>{t(i),s((()=>e.default)),t()})),r=e}else if(r){const e=r();if(e)return e(s)}else{const[e]=$((()=>(o||(o=n())).then((e=>e.default))),{globalRefetch:!1});r=e}let l;return S((()=>(l=r())&&P((()=>{if(!i)return l(s);const n=e.context;t(i);const r=l(s);return t(n),r}))))};return s.preload=()=>o||((o=n()).then((e=>r=()=>e.default)),o),s}function se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(function(e,t,n={}){let r=[],o=[],s=[],i=0,l=t.length>1?[]:null;return O((()=>Y(s))),()=>{let c,u,a=e()||[];return P((()=>{let e,t,d,g,h,p,v,y,m,b=a.length;if(0===b)0!==i&&(Y(s),s=[],r=[],o=[],i=0,l&&(l=[])),n.fallback&&(r=[W],o[0]=w((e=>(s[0]=e,n.fallback()))),i=1);else if(0===i){for(o=new Array(b),u=0;u<b;u++)r[u]=a[u],o[u]=w(f);i=b}else{for(d=new Array(b),g=new Array(b),l&&(h=new Array(b)),p=0,v=Math.min(i,b);p<v&&r[p]===a[p];p++);for(v=i-1,y=b-1;v>=p&&y>=p&&r[v]===a[y];v--,y--)d[y]=o[v],g[y]=s[v],l&&(h[y]=l[v]);for(e=new Map,t=new Array(y+1),u=y;u>=p;u--)m=a[u],c=e.get(m),t[u]=void 0===c?-1:c,e.set(m,u);for(c=p;c<=v;c++)m=r[c],u=e.get(m),void 0!==u&&-1!==u?(d[u]=o[c],g[u]=s[c],l&&(h[u]=l[c]),u=t[u],e.set(m,u)):s[c]();for(u=p;u<b;u++)u in d?(o[u]=d[u],s[u]=g[u],l&&(l[u]=h[u],l[u](u))):o[u]=w(f);o=o.slice(0,i=b),r=a.slice(0)}return o}));function f(e){if(s[u]=e,l){const[e,n]=m(u);return l[u]=n,t(a[u],e)}return t(a[u])}}}((()=>e.each),e.children,t||void 0))}function ie(e){let t=!1;const n=S((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return S((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?P((()=>n(r))):n}return e.fallback}))}function le(e){let t=!1;const n=T((()=>e.children)),r=S((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t].when;if(n)return[t,n,e[t]]}return[-1]}),void 0,{equals:(e,n)=>e[0]===n[0]&&(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return S((()=>{const[n,o,s]=r();if(n<0)return e.fallback;const i=s.children;return(t="function"==typeof i&&i.length>0)?P((()=>i(o))):i}))}function ce(e){return e}const ue=N();function ae(n){let r,o,s,i,l,c,a=0;const[f,d]=m(!1),g=E(),h={increment:()=>{1==++a&&d(!0)},decrement:()=>{0==--a&&d(!1)},inFallback:f,effects:[],resolved:!1},p=u;if(e.context){const n=e.context.id+e.context.count;if(i=e.load(n),i){"object"==typeof i&&"then"in i||(i=Promise.resolve(i));const[r,o]=m(void 0,{equals:!1});l=r,i.then((r=>{if(c=r)return o();e.gather(n),t(s),o(),t()}))}}const y=_(ue);let b;return y&&([r,o]=y.register(h.inFallback)),O((()=>b&&b())),Z(g.Provider,{value:h,get children(){return S((()=>{if(c)throw c;if(s=e.context,l)return l(),l=void 0;s&&void 0===i&&t();const u=P((()=>n.children));return S((()=>{const e=h.inFallback(),l=!r||r(),c=!o||o();return b&&b(),e&&void 0===i||!l?c?w((e=>(b=e,s&&(t({id:s.id+"f",count:0}),s=void 0),n.fallback)),p):void 0:(h.resolved=!0,s=i=void 0,a=h.effects,v.push.apply(v,a),a.length=0,u);var a}))}))}})}function fe(e,t){return S(e,void 0,t?void 0:{equals:t})}function de(e,t,n){let r=n.length,o=t.length,s=r,i=0,l=0,c=t[o-1].nextSibling,u=null;for(;i<o||l<s;)if(t[i]!==n[l]){for(;t[o-1]===n[s-1];)o--,s--;if(o===i){const t=s<r?l?n[l-1].nextSibling:n[s-l]:c;for(;l<s;)e.insertBefore(n[l++],t)}else if(s===l)for(;i<o;)u&&u.has(t[i])||t[i].remove(),i++;else if(t[i]===n[s-1]&&n[l]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[l++],t[i++].nextSibling),e.insertBefore(n[--s],r),t[o]=n[s]}else{if(!u){u=new Map;let e=l;for(;e<s;)u.set(n[e],e++)}const r=u.get(t[i]);if(null!=r)if(l<r&&r<s){let c,a=i,f=1;for(;++a<o&&a<s&&null!=(c=u.get(t[a]))&&c===r+f;)f++;if(f>r-l){const o=t[i];for(;l<r;)e.insertBefore(n[l++],o)}else e.replaceChild(n[l++],t[i++])}else i++;else t[i++].remove()}}else i++,l++}function ge(e,t,n){const r=document.createElement("template");r.innerHTML=e;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function he(e,t=window.document){const n=t._$DX_DELEGATE||(t._$DX_DELEGATE=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,we))}}function pe(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ve(e,t,n,r){r?Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n:Array.isArray(n)?e.addEventListener(t,(e=>n[0](n[1],e))):e.addEventListener(t,n)}function ye(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return me(e,t,r,n);A((r=>me(e,t(),r,n)),r)}function we(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});null!==n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(void 0!==o?r(o,e):r(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function me(t,n,r,o,s){for(e.context&&!r&&(r=[...t.childNodes]);"function"==typeof r;)r=r();if(n===r)return r;const i=typeof n,l=void 0!==o;if(t=l&&r[0]&&r[0].parentNode||t,"string"===i||"number"===i)if("number"===i&&(n=n.toString()),l){let e=r[0];e&&3===e.nodeType?e.data=n:e=document.createTextNode(n),r=Se(t,r,o,e)}else r=""!==r&&"string"==typeof r?t.firstChild.data=n:t.textContent=n;else if(null==n||"boolean"===i){if(e.context)return r;r=Se(t,r,o)}else{if("function"===i)return A((()=>{let e=n();for(;"function"==typeof e;)e=e();r=me(t,e,r,o)})),()=>r;if(Array.isArray(n)){const i=[];if(be(i,n,s))return A((()=>r=me(t,i,r,o,!0))),()=>r;if(e.context&&r&&r.length){for(let e=0;e<i.length;e++)if(i[e].parentNode)return r=i;return r}if(0===i.length){if(r=Se(t,r,o),l)return r}else Array.isArray(r)?0===r.length?Ae(t,i,o):de(t,r,i):null==r||""===r?Ae(t,i):de(t,l&&r||[t.firstChild],i);r=i}else if(n instanceof Node){if(e.context)return r=n.parentNode?l?[n]:n:r;if(Array.isArray(r)){if(l)return r=Se(t,r,o,n);Se(t,r,null,n)}else null!=r&&""!==r&&t.firstChild?t.replaceChild(n,t.firstChild):t.appendChild(n);r=n}}return r}function be(e,t,n){let r=!1;for(let o=0,s=t.length;o<s;o++){let s,i=t[o];if(i instanceof Node)e.push(i);else if(null==i||!0===i||!1===i);else if(Array.isArray(i))r=be(e,i)||r;else if("string"==(s=typeof i))e.push(document.createTextNode(i));else if("function"===s)if(n){for(;"function"==typeof i;)i=i();r=be(e,Array.isArray(i)?i:[i])||r}else e.push(i),r=!0;else e.push(document.createTextNode(i.toString()))}return r}function Ae(e,t,n){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function Se(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let s=t.length-1;s>=0;s--){const i=t[s];if(o!==i){const t=i.parentNode===e;r||s?t&&i.remove():t?e.replaceChild(o,i):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}const $e=Symbol("store-raw"),ke=Symbol("store-node"),Pe=Symbol("store-name");function Oe(e,t){let r=e[n];if(!r){Object.defineProperty(e,n,{value:r=new Proxy(e,_e)});const t=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let n=0,s=t.length;n<s;n++){const s=t[n];if(o[s].get){const t=o[s].get.bind(r);Object.defineProperty(e,s,{get:t})}}}return r}function je(e){return null!=e&&"object"==typeof e&&(e[n]||!e.__proto__||e.__proto__===Object.prototype||Array.isArray(e))}function xe(e,t=new Set){let n,r,o,s;if(n=null!=e&&e[$e])return n;if(!je(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let n=0,s=e.length;n<s;n++)o=e[n],(r=xe(o,t))!==o&&(e[n]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let l=0,c=n.length;l<c;l++)s=n[l],i[s].get||(o=e[s],(r=xe(o,t))!==o&&(e[s]=r))}return e}function Ce(e){let t=e[ke];return t||Object.defineProperty(e,ke,{value:t={}}),t}function Ne(){const[e,t]=m(void 0,{equals:!1,internal:!0});return e.$=t,e}const _e={get(e,t,r){if(t===$e)return e;if(t===n)return r;const o=e[t];if(t===ke||"__proto__"===t)return o;const s=je(o);if(j()&&("function"!=typeof o||e.hasOwnProperty(t))){let n,r;s&&(n=Ce(o))&&(r=n._||(n._=Ne()),r()),n=Ce(e),r=n[t]||(n[t]=Ne()),r()}return s?Oe(o):o},set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){if(j()){const t=Ce(e);(t._||(t._=Ne()))()}return Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return r&&!r.get&&r.configurable&&t!==n&&t!==ke&&t!==Pe?(delete r.value,delete r.writable,r.get=()=>e[n][t],r):r}};function Te(e,t,n){if(e[t]===n)return;const r=Array.isArray(e),o=e.length,s=void 0===n,i=r||s===t in e;s?delete e[t]:e[t]=n;let l,c=Ce(e);(l=c[t])&&l.$(),r&&e.length!==o&&(l=c.length)&&l.$(),i&&(l=c._)&&l.$()}function Ee(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const s=typeof r,i=Array.isArray(e);if(Array.isArray(r)){for(let o=0;o<r.length;o++)Ee(e,[r[o]].concat(t),[r[o]].concat(n));return}if(i&&"function"===s){for(let o=0;o<e.length;o++)r(e[o],o)&&Ee(e,[o].concat(t),[o].concat(n));return}if(i&&"object"===s){const{from:o=0,to:s=e.length-1,by:i=1}=r;for(let r=o;r<=s;r+=i)Ee(e,[r].concat(t),[r].concat(n));return}if(t.length>1)return void Ee(e[r],t,[r].concat(n));o=e[r],n=[r].concat(n)}let s=t[0];"function"==typeof s&&(s=s(o,n),s===o)||void 0===r&&null==s||(s=xe(s),void 0===r||je(o)&&je(s)&&!Array.isArray(s)?function(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];Te(e,o,t[o])}}(o,s):Te(e,r,s))}function Ve(e,t){const n=xe(e||{});return[Oe(n),function(...e){k((()=>Ee(n,e)))}]}const qe=encodeURIComponent;function Be(e,t,n,r){const[o,s]=m(),[i]=$(o,((t,{value:o})=>{if("articles"===t[0])return(s=t[1],s.myFeed?e.Articles.feed(n.page,10):s.favoritedBy?e.Articles.favoritedBy(s.favoritedBy,n.page,10):s.tag?e.Articles.byTag(s.tag,n.page,10):s.author?e.Articles.byAuthor(s.author,n.page,10):e.Articles.all(n.page,10,s)).then((({articles:e,articlesCount:t})=>(queueMicrotask((()=>r({totalPagesCount:Math.ceil(t/10)}))),e.reduce(((e,t)=>(e[t.slug]=t,e)),{}))));var s;return n.articles[t[1]]?o:e.Articles.get(t[1]).then((e=>({...o,[t[1]]:e})))}),{initialValue:{}});return Object.assign(t,{setPage:e=>r({page:e}),loadArticles(e){s(["articles",e])},loadArticle(e){s(["article",e])},async makeFavorite(t){const o=n.articles[t];if(o&&!o.favorited){r("articles",t,(e=>({favorited:!0,favoritesCount:e.favoritesCount+1})));try{await e.Articles.favorite(t)}catch(e){throw r("articles",t,(e=>({favorited:!1,favoritesCount:e.favoritesCount-1}))),e}}},async unmakeFavorite(t){const o=n.articles[t];if(o&&o.favorited){r("articles",t,(e=>({favorited:!1,favoritesCount:e.favoritesCount-1})));try{await e.Articles.unfavorite(t)}catch(e){throw r("articles",t,(e=>({favorited:!0,favoritesCount:e.favoritesCount+1}))),e}}},async createArticle(t){const{article:n,errors:o}=await e.Articles.create(t);if(o)throw o;return r("articles",{[n.slug]:n}),n},async updateArticle(t){const{article:n,errors:o}=await e.Articles.update(t);if(o)throw o;return r("articles",{[n.slug]:n}),n},async deleteArticle(t){const o=n.articles[t];r("articles",{[t]:void 0});try{await e.Articles.del(t)}catch(e){throw r("articles",{[t]:o}),e}}}),i}function Le(e,t,n,r){const[s]=$("tags",(()=>e.Tags.getAll().then((e=>e.map((e=>e.toLowerCase()))))),{initialValue:[]});return function(e,t,n){o=z;const r=D(e,t,!1,1),s=f&&X(u,f.id);s&&(r.suspense=s),r.user=!0,v?v.push(r):queueMicrotask((()=>B(r)))}((()=>{n.token?localStorage.setItem("jwt",n.token):localStorage.removeItem("jwt")})),t.setToken=e=>r({token:e}),s}const De=N(),Fe=N();function Ue(e){let t,n,r,o,s;const i=function(e){const[t,n]=m(window.location.hash.slice(2)||e),[r,o]=m(),[,s]=C(),i=()=>s((()=>n(window.location.hash.slice(2))));let l;return window.addEventListener("hashchange",i),O((()=>window.removeEventListener("hashchange",i))),{location:t,match:(e,n)=>{const r=t().split("?")[0],s=n.exec(r);return s&&(l={params:s.slice(1),routeName:e},o()),!!s},getParams:()=>(r(),l)}}(""),[l,c]=Ve({get articles(){return t()},get comments(){return n()},get tags(){return r()},get profile(){return o()},get currentUser(){return s()},page:0,totalPagesCount:0,token:localStorage.getItem("jwt"),appName:"conduit"}),u={},a=[l,u],f=function([e,t]){async function n(n,r,o,s){const i={},l={method:n,headers:i};void 0!==o&&(i["Content-Type"]="application/json",l.body=JSON.stringify(o)),e.token&&(i.Authorization=`Token ${e.token}`);try{const e=await fetch("/api"+r,l),t=await e.json();return s?t[s]:t}catch(e){return e&&e.response&&401===e.response.status&&t.logout(),e}}const r=(e,t)=>`limit=${e}&offset=${t?t*e:0}`,o=e=>Object.assign({},e,{slug:void 0});return{Articles:{all:(e,t=10)=>n("get",`/articles?${r(t,e)}`),byAuthor:(e,t)=>n("get",`/articles?author=${qe(e)}&${r(5,t)}`),byTag:(e,t,o=10)=>n("get",`/articles?tag=${qe(e)}&${r(o,t)}`),del:e=>n("delete",`/articles/${e}`),favorite:e=>n("post",`/articles/${e}/favorite`),favoritedBy:(e,t)=>n("get",`/articles?favorited=${qe(e)}&${r(5,t)}`),feed:()=>n("get","/articles/feed?limit=10&offset=0"),get:e=>n("get",`/articles/${e}`,void 0,"article"),unfavorite:e=>n("delete",`/articles/${e}/favorite`),update:e=>n("put",`/articles/${e.slug}`,{article:o(e)}),create:e=>n("post","/articles",{article:e})},Auth:{current:()=>n("get","/user",void 0,"user"),login:(e,t)=>n("post","/users/login",{user:{email:e,password:t}}),register:(e,t,r)=>n("post","/users",{user:{username:e,email:t,password:r}}),save:e=>n("put","/user",{user:e})},Comments:{create:(e,t)=>n("post",`/articles/${e}/comments`,{comment:t}),delete:(e,t)=>n("delete",`/articles/${e}/comments/${t}`),forArticle:e=>n("get",`/articles/${e}/comments`,void 0,"comments")},Profile:{follow:e=>n("post",`/profiles/${e}/follow`),get:e=>n("get",`/profiles/${e}`,void 0,"profile"),unfollow:e=>n("delete",`/profiles/${e}/follow`)},Tags:{getAll:()=>n("get","/tags",void 0,"tags")}}}(a);return t=Be(f,u,l,c),n=function(e,t,n,r){const[o,{mutate:s,refetch:i}]=$((()=>n.articleSlug),e.Comments.forArticle,{initialValue:[]});return Object.assign(t,{loadComments(e,t){if(t)return i();r({articleSlug:e})},async createComment(t){const{errors:r}=await e.Comments.create(n.articleSlug,t);if(r)throw r},async deleteComment(r){s(o().filter((e=>e.id!==r)));try{await e.Comments.delete(n.articleSlug,r)}catch(e){throw t.loadComments(n.articleSlug),e}}}),o}(f,u,l,c),r=Le(f,u,l,c),o=function(e,t,n,r){const[o,s]=m(),[i]=$(o,e.Profile.get);return Object.assign(t,{loadProfile:s,async follow(){if(n.profile&&!n.profile.following){r("profile","following",!0);try{await e.Profile.follow(n.profile.username)}catch(e){r("profile","following",!1)}}},async unfollow(){if(n.profile&&n.profile.following){r("profile","following",!1);try{await e.Profile.unfollow(n.profile.username)}catch(e){r("profile","following",!0)}}}}),i}(f,u,l,c),s=function(e,t,n){const[r,o]=m(!1),[s,{mutate:i}]=$(r,e.Auth.current);return Object.assign(t,{pullUser:()=>o(!0),async login(n,r){const{user:s,errors:i}=await e.Auth.login(n,r);if(i)throw i;t.setToken(s.token),o(!0)},async register(n,r,s){const{user:i,errors:l}=await e.Auth.register(n,r,s);if(l)throw l;t.setToken(i.token),o(!0)},logout(){k((()=>{n({token:void 0}),i(void 0)}))},async updateUser(t){const{user:n,errors:r}=await e.Auth.save(t);if(r)throw r;i(n)}}),s}(f,u,c),Z(Fe.Provider,{value:i,get children(){return Z(De.Provider,{value:a,get children(){return e.children}})}})}function Me(){return _(De)}function ze(){return _(Fe)}const Re=ge("<a></a>");var He=e=>{const{getParams:t}=ze();return(()=>{const n=Re.cloneNode(!0);return n.$$click=()=>window.scrollTo(0,0),ye(n,(()=>e.children)),A((r=>{var o;const s=e.class,i=e.active||(null===(o=t())||void 0===o?void 0:o.routeName)===e.route,l=`#/${e.href||e.route}`;return s!==r._v$&&(n.className=r._v$=s),i!==r._v$2&&n.classList.toggle("active",r._v$2=i),l!==r._v$3&&pe(n,"href",r._v$3=l),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()};he(["click"]);const Ie=ge('<i class="ion-compose"></i>'),Ke=ge('<li class="nav-item"></li>'),Ge=ge('<i class="ion-gear-a"></i>'),Xe=ge('<nav class="navbar navbar-light"><div class="container"><ul class="nav navbar-nav pull-xs-right"><li class="nav-item"></li></ul></div></nav>');var Je=()=>{const[e]=Me();return(()=>{const t=Xe.cloneNode(!0),n=t.firstChild,r=n.firstChild,o=r.firstChild;return ye(n,Z(He,{class:"navbar-brand",route:"",get children(){return e.appName}}),r),ye(o,Z(He,{class:"nav-link",route:"",children:"Home"})),ye(r,Z(ie,{get when(){return e.currentUser},get fallback(){return[(()=>{const e=Ke.cloneNode(!0);return ye(e,Z(He,{class:"nav-link",route:"login",children:"Sign in"})),e})(),(()=>{const e=Ke.cloneNode(!0);return ye(e,Z(He,{class:"nav-link",route:"register",children:"Sign up"})),e})()]},get children(){return[(()=>{const e=Ke.cloneNode(!0);return ye(e,Z(He,{class:"nav-link",route:"editor",get children(){return[Ie.cloneNode(!0)," New Post"]}})),e})(),(()=>{const e=Ke.cloneNode(!0);return ye(e,Z(He,{class:"nav-link",route:"settings",get children(){return[Ge.cloneNode(!0)," Settings"]}})),e})(),(()=>{const t=Ke.cloneNode(!0);return ye(t,Z(He,{class:"nav-link",route:"profile",get href(){return`@${e.currentUser.username}`},get children(){return e.currentUser.username}})),t})()]}}),null),t})()};const Qe=oe((()=>import("./Home-47a2d0b8.js")));function We(){const[e,{loadArticles:t,setPage:n}]=Me(),{token:r,appName:o}=e,{location:s}=ze(),i=S((()=>{const e=s().split("?")[1];if(!e)return r?"feed":"all";return new URLSearchParams(e).get("tab")})),[,l]=C(),c=()=>{switch(i()){case"feed":return{myFeed:!0};case"all":return{};case void 0:return;default:return{tag:i()}}};return b((()=>t(c()))),Qe({handleSetPage:e=>{l((()=>{n(e),t(c())}))},appName:o,token:r,tab:i,store:e})}const Ye=oe((()=>import("./Article-ffad41a9.js")));function Ze(e){const[,{loadArticle:t,loadComments:n}]=Me(),r=e.params[0];return t(r),n(r),Ye({slug:r})}const et=oe((()=>import("./Profile-0cacb9a8.js")));function tt(e){const[,{loadProfile:t,loadArticles:n}]=Me(),{location:r}=ze();return b((()=>"profile"===e.routeName&&t(e.params[0]))),b((()=>"profile"===e.routeName&&(r().includes("/favorites")?n({favoritedBy:e.params[0]}):n({author:e.params[0]})))),Z(et,{get username(){return e.params[0]}})}const nt=oe((()=>import("./Editor-a6900ef6.js")));function rt(e){const[,{loadArticle:t}]=Me(),n=e.params[0];return n&&t(n),nt({slug:n})}const ot=ge('<div class="container">Loading...</div>'),st=oe((()=>import("./Settings-e430debb.js"))),it=oe((()=>import("./Auth-a10cb901.js")));var lt=()=>{const[e,{pullUser:t}]=Me(),[n,r]=m(!1),{match:o,getParams:s}=ze();return e.token?(t(),b((()=>e.currentUser&&r(!0)))):r(!0),[Z(Je,{}),Z(ie,{get when(){return n()},get children(){return Z(ae,{get fallback(){return ot.cloneNode(!0)},get children(){return Z(le,{get children(){return[Z(ce,{get when(){return o("editor",/^editor\/?(.*)/)},get children(){return Z(rt,re(s))}}),Z(ce,{get when(){return o("settings",/^settings/)},get children(){return Z(st,{})}}),Z(ce,{get when(){return o("login",/^login/)},get children(){return Z(it,{})}}),Z(ce,{get when(){return o("register",/^register/)},get children(){return Z(it,{})}}),Z(ce,{get when(){return o("article",/^article\/(.*)/)},get children(){return Z(Ze,re(s))}}),Z(ce,{get when(){return o("profile",/^@([^/]*)\/?(favorites)?/)},get children(){return Z(tt,re(s))}}),Z(ce,{get when(){return o("",/^#?$/)},get children(){return Z(We,{})}})]}})}})}})]};!function(e,t,n){let r;w((o=>{r=o,t===document?e():ye(t,e(),t.firstChild?null:void 0,n)}))}((()=>Z(Ue,{get children(){return Z(lt,{})}})),document.body);export{se as F,He as N,ie as S,Z as a,ve as b,Ve as c,A as d,he as e,ae as f,ze as g,b as h,ye as i,fe as m,pe as s,ge as t,Me as u};
